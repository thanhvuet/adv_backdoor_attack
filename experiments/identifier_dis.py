'''Given a json file generated by the attacker, count the distribution of generated adversarial replacement.'''
import os
import json


def analyze(json_path):

    frequency_data = {}

    with open(json_path, 'r') as f:
        data = json.load(f)["transforms.Replace"]
        frequency_data[0] = 20000 - len(data)

        for index in data:
            no_var = len(data[index])
            try:
                frequency_data[no_var] += 1 
            except KeyError:
                frequency_data[no_var] = 1
    
    print(frequency_data)

if __name__ == '__main__':
    json_path = 'datasets/adversarial/baseline/tokens/sri/py150/targeted-test-load-gradient.json'
    analyze(json_path)
